# ç»„ä»¶é›†æˆå®Œæˆæ€»ç»“

## âœ… é›†æˆçŠ¶æ€ï¼šæˆåŠŸå®Œæˆ

æ‰€æœ‰è®¾è®¡ç³»ç»Ÿç»„ä»¶å·²æˆåŠŸé›†æˆåˆ°æ‚¨çš„ Flask åº”ç”¨ä¸­ï¼

## ğŸ¯ å·²å®Œæˆçš„é›†æˆ

### 1. **base.html æ›´æ–°**
- âœ… æ·»åŠ äº† `tokens.css` - è®¾è®¡ä»¤ç‰Œç³»ç»Ÿ
- âœ… æ·»åŠ äº† `components.css` - ç»„ä»¶æ ·å¼
- âœ… æ·»åŠ äº† Clusterize.js - è™šæ‹Ÿæ»šåŠ¨æ”¯æŒ
- âœ… æ·»åŠ äº† `data-table.js` - æ•°æ®è¡¨æ ¼ç®¡ç†
- âœ… æ·»åŠ äº† `charts.js` - ç»Ÿä¸€å›¾è¡¨é…ç½®
- âœ… æ·»åŠ äº†"ç»„ä»¶ç¤ºä¾‹"èœå•é¡¹

### 2. **è·¯ç”±æ·»åŠ **
- âœ… `/example-dashboard` - ç»„ä»¶ç¤ºä¾‹é¡µé¢
- âœ… `/api/mock-customers` - æ¨¡æ‹Ÿæ•°æ®API

### 3. **é¡µé¢æ›´æ–°**
- âœ… **é¦–é¡µ (index.html)**
  - ä½¿ç”¨æ–°çš„ KPI å¡ç‰‡ç»„ä»¶æ›¿ä»£åŸæœ‰ç»Ÿè®¡å¡ç‰‡
  - æ”¯æŒè¶‹åŠ¿æ˜¾ç¤ºå’Œä¸åŒé¢œè‰²å˜ä½“

- âœ… **åˆ©æ¶¦åˆ†é…é¡µé¢ (profit_distribution.html)**
  - ä½¿ç”¨ç»Ÿä¸€çš„å›¾è¡¨ç»„ä»¶ï¼ˆinitPieChartï¼‰
  - æ·»åŠ äº†å›¾è¡¨å¯¼å‡ºåŠŸèƒ½æŒ‰é’®

- âœ… **å®¢æˆ·ç®¡ç†é¡µé¢ (customers_new.html)**
  - åˆ›å»ºäº†æ–°ç‰ˆæœ¬ï¼Œé›†æˆç­›é€‰é¢æ¿å’Œæ•°æ®è¡¨æ ¼ç»„ä»¶
  - æ”¯æŒå¤§æ•°æ®é›†è™šæ‹Ÿæ»šåŠ¨

## ğŸ“¦ æ–°å¢æ–‡ä»¶æ¸…å•

### CSS æ–‡ä»¶
- `/app/static/css/tokens.css` - è®¾è®¡ä»¤ç‰Œï¼ˆé¢œè‰²ã€é—´è·ã€å­—ä½“ç­‰ï¼‰
- `/app/static/css/components.css` - ç»„ä»¶ä¸“ç”¨æ ·å¼

### JavaScript æ–‡ä»¶
- `/app/static/js/charts.js` - Chart.js ç»Ÿä¸€é…ç½®
- `/app/static/js/data-table.js` - æ•°æ®è¡¨æ ¼è™šæ‹Ÿæ»šåŠ¨

### ç»„ä»¶æ¨¡æ¿
- `/app/templates/components/kpi_card.html` - KPI å¡ç‰‡å®
- `/app/templates/components/filter_panel.html` - ç­›é€‰é¢æ¿
- `/app/templates/components/data_table.html` - æ•°æ®è¡¨æ ¼å®

### ç¤ºä¾‹é¡µé¢
- `/app/templates/example_dashboard.html` - å®Œæ•´ç¤ºä¾‹
- `/app/templates/customers_new.html` - æ–°ç‰ˆå®¢æˆ·ç®¡ç†

### æ–‡æ¡£
- `/docs/integration_instructions.md` - é›†æˆæŒ‡å—
- `/docs/acceptance_checklist.md` - éªŒæ”¶æ¸…å•
- `/docs/data_table_integration.md` - æ•°æ®è¡¨æ ¼æŒ‡å—
- `/docs/charts_integration.md` - å›¾è¡¨é›†æˆæŒ‡å—

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### 1. å¯åŠ¨åº”ç”¨
```bash
cd /workspace
python run.py
```

### 2. è®¿é—®é¡µé¢

- **ç»„ä»¶ç¤ºä¾‹é¡µé¢**: http://localhost:5000/example-dashboard
  - å±•ç¤ºæ‰€æœ‰æ–°ç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•
  - åŒ…å« 5000 æ¡æ•°æ®çš„è™šæ‹Ÿæ»šåŠ¨æ¼”ç¤º

- **æ›´æ–°åçš„é¦–é¡µ**: http://localhost:5000/
  - æŸ¥çœ‹æ–°çš„ KPI å¡ç‰‡ç»„ä»¶æ•ˆæœ

- **åˆ©æ¶¦åˆ†é…é¡µé¢**: http://localhost:5000/profit-distribution
  - æŸ¥çœ‹æ–°çš„å›¾è¡¨ç»„ä»¶å’Œå¯¼å‡ºåŠŸèƒ½

### 3. åœ¨æ–°é¡µé¢ä¸­ä½¿ç”¨ç»„ä»¶

#### ä½¿ç”¨ KPI å¡ç‰‡
```jinja2
{% from 'components/kpi_card.html' import kpi_card %}

{{ kpi_card('1,234', 'æ€»æ•°', 12.5, 'fa-users') }}
```

#### ä½¿ç”¨ç­›é€‰é¢æ¿
```jinja2
{% include 'components/filter_panel.html' %}
```

#### ä½¿ç”¨æ•°æ®è¡¨æ ¼
```jinja2
{% from 'components/data_table.html' import data_table %}

{{ data_table(
    columns=[...],
    rows=data,
    mode='server',
    page=1,
    total_count=100
) }}
```

#### ä½¿ç”¨ç»Ÿä¸€å›¾è¡¨
```javascript
const chart = initTrendChart('canvasId', {
    labels: dates,
    datasets: [{
        label: 'æ”¶å…¥',
        data: values,
        isCurrency: true
    }]
});

// å¯¼å‡ºåŠŸèƒ½
exportChartDataAsCSV(chart, 'filename');
```

## ğŸ”§ æŠ€æœ¯ç‰¹ç‚¹

1. **æ— éœ€æ„å»ºå·¥å…·** - æ‰€æœ‰ç»„ä»¶ç›´æ¥é€šè¿‡ `<script>` å’Œ `<link>` æ ‡ç­¾å¼•å…¥
2. **å®Œå…¨å…¼å®¹** - ä¸ä¿®æ”¹ç°æœ‰åç«¯ä»£ç å’Œæ•°æ®åº“
3. **é«˜æ€§èƒ½** - è™šæ‹Ÿæ»šåŠ¨æ”¯æŒ 5000+ æ¡æ•°æ®æµç•…å±•ç¤º
4. **å¯è®¿é—®æ€§** - æ‰€æœ‰é¢œè‰²æ»¡è¶³ WCAG AA æ ‡å‡†
5. **å“åº”å¼** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

## ğŸ“ æ³¨æ„äº‹é¡¹

1. å¦‚æœé‡åˆ°æ ·å¼å†²çªï¼Œç¡®ä¿ `tokens.css` åœ¨å…¶ä»–æ ·å¼æ–‡ä»¶ä¹‹ååŠ è½½
2. è™šæ‹Ÿæ»šåŠ¨åœ¨æ•°æ®é‡è¶…è¿‡ 2000 æ¡æ—¶è‡ªåŠ¨å¯ç”¨
3. å›¾è¡¨å¯¼å‡ºåŠŸèƒ½ç”Ÿæˆçš„ CSV æ–‡ä»¶åŒ…å« BOMï¼Œç¡®ä¿ Excel æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡

## ğŸ‰ ä¸‹ä¸€æ­¥

1. **é€æ­¥è¿ç§»ç°æœ‰é¡µé¢** - å°†å…¶ä»–é¡µé¢çš„ç»„ä»¶æ›¿æ¢ä¸ºæ–°ç»„ä»¶
2. **è‡ªå®šä¹‰ä¸»é¢˜** - ä¿®æ”¹ `tokens.css` ä¸­çš„å˜é‡æ¥è°ƒæ•´æ•´ä½“é£æ ¼
3. **æ‰©å±•ç»„ä»¶** - åŸºäºç°æœ‰ç»„ä»¶åˆ›å»ºæ›´å¤šå®šåˆ¶åŒ–ç»„ä»¶

æ­å–œï¼æ‚¨çš„ Flask åº”ç”¨ç°åœ¨æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡ç³»ç»Ÿï¼