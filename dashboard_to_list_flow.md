# Dashboard到List的交互流程说明

## 1. 页面架构

### 1.1 Dashboard页面 (`/customers/dashboard`)
- **主要功能**: 展示客户管理的整体概览和关键指标
- **URL**: `/customers/dashboard`
- **响应式断点**: 
  - Desktop: 1366×768
  - Tablet: 1024×768
  - Mobile: 375×812

### 1.2 List页面 (`/customers/list`)
- **主要功能**: 客户明细管理和操作
- **URL**: `/customers/list?{filters}`
- **支持参数**: 
  - `status`: 客户状态筛选
  - `dateRange`: 时间范围
  - `source`: 客户来源
  - `sort`: 排序字段
  - `order`: 排序方向

## 2. KPI卡片交互

### 2.1 总客户数卡片
- **显示内容**: 
  - 主数值: 总客户数（字号24px, 字重700）
  - 副数值: 环比增长率（字号14px, 颜色#52C41A或#F5222D）
- **点击行为**: 跳转到 `/customers/list`（显示所有客户）
- **悬停效果**: 卡片阴影加深，transform: translateY(-2px)

### 2.2 当日新增卡片
- **显示内容**: 
  - 主数值: 当日新增客户数
  - 副数值: 时间戳（最后更新时间）
- **点击行为**: 跳转到 `/customers/list?dateRange=today`
- **实时更新**: WebSocket推送，5秒轮询fallback

### 2.3 总收入卡片
- **显示内容**: 
  - 主数值: 累计总收入（格式化为货币）
  - 副数值: 本月收入
- **点击行为**: 跳转到 `/customers/list?sort=revenue&order=desc`
- **数据格式**: ¥123,456.78

### 2.4 转化率卡片
- **显示内容**: 
  - 主数值: 试听课转正课比率（百分比）
  - 副数值: 转化趋势图标
- **点击行为**: 跳转到 `/customers/list?status=converted`
- **可视化**: 内嵌迷你折线图（Sparkline）

## 3. 图表交互

### 3.1 趋势图
- **类型**: 折线图（Chart.js）
- **时间切换**: 
  - 今日: 24小时分时数据
  - 7天: 每日汇总
  - 30天: 每日汇总
  - 自定义: 日期选择器
- **交互**: 
  - Hover显示详细数值
  - 点击数据点跳转到对应日期的客户列表

### 3.2 渠道分布图
- **类型**: 饼图/环形图
- **数据维度**: 淘宝、微信、线下、其他
- **交互**: 
  - 点击扇区跳转到 `/customers/list?source={channel}`
  - 图例可点击显示/隐藏

### 3.3 转化漏斗图
- **类型**: 漏斗图
- **阶段**: 咨询 → 试听 → 正课 → 续费
- **交互**: 
  - 点击阶段跳转到对应状态的客户列表
  - 显示每阶段转化率

## 4. 响应式行为

### 4.1 Desktop (≥1366px)
- KPI卡片: 4列网格布局
- 图表: 3列并排显示
- 完整导航栏和侧边栏

### 4.2 Tablet (768px-1365px)
- KPI卡片: 2×2网格
- 图表: 垂直堆叠
- 折叠式侧边栏

### 4.3 Mobile (<768px)
- KPI卡片: 单列滚动
- 图表: 可横向滑动
- 底部导航栏
- 简化表头

## 5. List页面特性

### 5.1 表格功能
- **虚拟滚动**: 使用react-window或ag-grid支持10k+行
- **列操作**: 
  - 可调整列宽（拖拽边界）
  - 可隐藏/显示列（列配置面板）
  - 可固定列（左侧固定操作列）
- **行操作**: 
  - 展开查看详情（内联展开）
  - 批量选择（checkbox）
  - Kebab menu（编辑/删除/导出）

### 5.2 筛选器
- **快速筛选**: 顶部筛选栏
- **高级筛选**: 侧边抽屉式面板
- **筛选项保存**: localStorage持久化

### 5.3 移动端适配
- **简化列**: 仅显示姓名、电话、状态、操作
- **滑动操作**: 左滑删除，右滑编辑
- **下拉刷新**: 支持下拉刷新数据

## 6. 性能优化

### 6.1 首屏加载
- Dashboard: <2s（关键指标优先）
- List: <3s（前50条数据）
- 使用skeleton loading

### 6.2 数据缓存
- KPI数据: 5分钟缓存
- 列表数据: 按页缓存
- 使用IndexedDB存储

### 6.3 懒加载
- 图表库按需加载
- 大数据集分页加载
- 图片懒加载

## 7. 无障碍支持

### 7.1 键盘导航
- Tab顺序合理
- Enter/Space激活
- Esc关闭弹窗

### 7.2 屏幕阅读器
- ARIA标签完整
- 角色属性正确
- 状态实时播报

### 7.3 色彩对比
- 正文: 7:1
- 大文本: 4.5:1
- 交互元素: 3:1